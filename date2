var date = new Date(); //date to calculate from

var daystocount = [0,1,2,3,4];
var dayinweek = moment(date).isoWeekday() - 1;
var dayid = moment(date).diff(moment(345600000), "days"); //get num of days between first monday in 1970 and now
dayid -= (moment(date).diff(moment(345600000), "weeks") * (7-daystocount.length)); //subtract all days not counted in previous weeks
for(var i = 0; i < dayinweek; i++){ //loop through previous days this week, and remove if not included in rotation
  if(!(i in daystocount)){
    dayid -= 1;
  }
}

console.log(dayid);
